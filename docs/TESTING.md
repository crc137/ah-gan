# Тестирование и диагностика

## Основные тестовые команды

### `/test`
- **Описание**: Проверить работоспособность бота
- **Доступ**: Все пользователи
- **Использование**: `/test`

**Подробная инструкция:**
1. **Назначение**: Базовая проверка работоспособности бота

2. **Показывает**:
   - Статус работы бота
   - Chat ID текущего чата
   - Тип чата (группа, супергруппа, приватный)
   - User ID пользователя
   - ID целевой группы из переменных окружения
   - Статус авторизации чата
   - Статус администратора пользователя

3. **Когда использовать**:
   - При проблемах с ботом
   - Для проверки подключения
   - При настройке нового чата

### `/test_moderation`
- **Описание**: Тестировать функциональность модерации, симулируя нарушение
- **Доступ**: Только авторизованные администраторы
- **Использование**: `/test_moderation`

**Подробная инструкция:**
1. **Назначение**: Симуляция нарушения для тестирования модерации

2. **Показывает**:
   - Информацию о тестируемом чате и пользователе
   - Тестовое сообщение (ссылка)
   - Текущие настройки чата
   - Результат обнаружения ссылок
   - Ожидаемый результат модерации

3. **Когда использовать**:
   - При настройке модерации
   - Для проверки правил
   - При отладке фильтров

4. **Примеры**:
   - `/test_moderation` - запустить тест модерации

5. **Важные замечания**:
   - Симулирует реальное нарушение
   - Показывает детальную информацию
   - Полезно для настройки правил

### `/testdb`
- **Описание**: Тестовая команда для проверки функциональности базы данных topic_access_list
- **Доступ**: Только авторизованные администраторы
- **Использование**: `/testdb`

**Подробная инструкция:**
1. **Назначение**: Тестирование функций базы данных

2. **Показывает**:
   - Статус подключения к базе данных
   - Результат чтения настроек чата
   - Результат обновления настроек
   - Результат восстановления настроек

3. **Когда использовать**:
   - При проблемах с базой данных
   - Для проверки настроек
   - При отладке

4. **Примеры**:
   - `/testdb` - запустить тест базы данных

5. **Важные замечания**:
   - Тестирует работу с базой данных
   - Показывает детальную информацию
   - Полезно для диагностики

## Отладочные команды

### `/check_codeaccess`
- **Описание**: Проверить текущие настройки доступа к коду
- **Доступ**: Только авторизованные администраторы
- **Использование**: `/check_codeaccess`

**Подробная инструкция:**
1. **Назначение**: Проверка настроек доступа к коду

2. **Показывает**:
   - Глобальный статус доступа к коду
   - Статус для текущей темы (если применимо)
   - Список разрешенных тем

3. **Когда использовать**:
   - При проблемах с доступом к коду
   - Для проверки настроек тем
   - При отладке

4. **Примеры**:
   - `/check_codeaccess` - проверить настройки доступа к коду

5. **Важные замечания**:
   - Показывает детальную информацию о доступе к коду
   - Полезно для диагностики проблем

## Команды конфигурации

### `/config`
- **Описание**: Проверка конфигурации бота
- **Доступ**: Все пользователи
- **Использование**: `/config`

**Подробная инструкция:**
1. **Назначение**: Показать конфигурацию бота

2. **Показывает**:
   - Статус переменных окружения (TELEGRAM_TOKEN, CHANNEL_ID, ADMIN_ID)
   - Логику авторизации
   - Правила работы бота

3. **Когда использовать**:
   - При настройке бота
   - Для проверки конфигурации
   - При отладке

## Практические примеры тестирования

### Проверка работоспособности
```bash
# Базовая проверка бота
/test

# Проверка конфигурации
/config
```

### Тестирование модерации
```bash
# Тест функций модерации
/test_moderation

# Проверка доступа к коду
/check_codeaccess
```

### Тестирование базы данных
```bash
# Тест базы данных
/testdb
```

## Поддержка

Если команда не работает:
1. Проверьте, что вы авторизованы как администратор
2. Убедитесь, что бот добавлен в чат и имеет права администратора
3. Проверьте логи бота для диагностики ошибок
4. Используйте `/debug_settings` для диагностики настроек
5. Используйте `/test` для проверки работоспособности бота
6. Используйте `/config` для проверки конфигурации
7. Используйте `/test_database` для проверки базы данных
